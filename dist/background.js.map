{"version":3,"sources":["webpack:///background.js","webpack:///webpack/bootstrap eb8492172997b2987a23?dd5c","webpack:///./src/background.js","webpack:///./src/common/db.js?6ff9"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_db","_db2","chrome","contextMenus","create","title","contexts","onclick","e","text","selectionText","url","pageUrl","insert","Date","getTime","parseInt","Math","random","createTime","getItem","str","localStorage","DB_NAME","JSON","parse","setItem","_typeof","stringify","getList","db","list","unshift","removeItemById","newList","forEach","item","index","push","Object","defineProperty","value","Symbol","iterator","constructor","prototype"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA;;;ADSM,SAASI,EAAQD,EAASH,GAE/B,YAMA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GEvDxF,GAAAG,GAAAf,oBAAA,GFqDKgB,EAAOL,EAAuBI,EEnDnCE,QAAOC,aAAaC,QAChBC,MAAS,qBACTC,UAAY,QAAS,YAAa,OAAQ,YAC1CC,QAAU,SAAUC,GAChB,GAAIC,GAAOD,EAAEE,cACTC,EAAMH,EAAEI,OAIZX,GAAAF,QAAGc,QACCJ,KAAOA,EACPE,IAAMA,EACNrB,IAAK,GAAIwB,OAAOC,UAAYC,SAAyB,IAAhBC,KAAKC,UAC1CC,YAAa,GAAIL,OAAOC;;;AFiE9B,SAAS1B,EAAQD,GAEtB,YGhFD,SAASgC,KACL,GAAIC,GAAMC,aAAaF,QAAQG,EAE/B,KACI,MAAOC,MAAKC,MAAMJ,GACrB,MAAMb,GACH,UAIR,QAASkB,GAAQ7B,GACb,GAAIwB,GAAM,EAGNA,GADa,WAAd,mBAAOxB,GAAP,YAAA8B,EAAO9B,IACA2B,KAAKI,UAAU/B,GAEfA,EAGVyB,aAAaI,QAAQH,EAASF,GAGlC,QAASQ,KACL,GAAIC,GAAKV,QACLW,EAAOD,EAAGC,QAEd,OAAOA,GAGX,QAASlB,GAAOhB,GACZ,GAAIiC,GAAKV,QACLW,EAAOD,EAAGC,QAEdA,GAAKC,QAAQnC,GACbiC,EAAGC,KAAOA,EACVL,EAAQI,GAGZ,QAASG,GAAe3C,GACpB,GAAIwC,GAAKV,QACLW,EAAOD,EAAGC,SACVG,IAEJH,GAAKI,QAAQ,SAAUC,EAAMC,GACtBD,EAAK9C,IAAMA,GACV4C,EAAQI,KAAKF,KAIrBN,EAAGC,KAAOG,EACVR,EAAQI,GHgCXS,OAAOC,eAAepD,EAAS,cAC3BqD,OAAO,GAGX,IAAId,GAA4B,kBAAXe,SAAoD,gBAApBA,QAAOC,SAAwB,SAAU9C,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAX6C,SAAyB7C,EAAI+C,cAAgBF,QAAU7C,IAAQ6C,OAAOG,UAAY,eAAkBhD,IGxFjQ0B,EAAU,UHiJfnC,GAAQW,SG1FOc,SAAQoB,iBAAgBJ","file":"background.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!***************************!*\\\n  !*** ./src/background.js ***!\n  \\***************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _db = __webpack_require__(/*! ./common/db */ 1);\n\t\n\tvar _db2 = _interopRequireDefault(_db);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tchrome.contextMenus.create({\n\t    \"title\": \"Save into Noteplus\",\n\t    contexts: [\"frame\", \"selection\", \"link\", \"editable\"],\n\t    onclick: function onclick(e) {\n\t        var text = e.selectionText;\n\t        var url = e.pageUrl;\n\t\n\t        // chrome.runtime.sendMessage({selectionText, pageUrl},function(response){});\n\t\n\t        _db2.default.insert({\n\t            text: text,\n\t            url: url,\n\t            id: new Date().getTime() + parseInt(Math.random() * 10000),\n\t            createTime: new Date().getTime()\n\t        });\n\t    }\n\t});\n\n/***/ },\n/* 1 */\n/*!**************************!*\\\n  !*** ./src/common/db.js ***!\n  \\**************************/\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar DB_NAME = \"NOTEPLUS\";\n\t\n\tfunction getItem() {\n\t    var str = localStorage.getItem(DB_NAME);\n\t\n\t    try {\n\t        return JSON.parse(str);\n\t    } catch (e) {\n\t        return {};\n\t    }\n\t}\n\t\n\tfunction setItem(obj) {\n\t    var str = \"\";\n\t\n\t    if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) == \"object\") {\n\t        str = JSON.stringify(obj);\n\t    } else {\n\t        str = obj;\n\t    }\n\t\n\t    localStorage.setItem(DB_NAME, str);\n\t}\n\t\n\tfunction getList() {\n\t    var db = getItem() || {};\n\t    var list = db.list || [];\n\t\n\t    return list;\n\t}\n\t\n\tfunction insert(obj) {\n\t    var db = getItem() || {};\n\t    var list = db.list || [];\n\t\n\t    list.unshift(obj);\n\t    db.list = list;\n\t    setItem(db);\n\t}\n\t\n\tfunction removeItemById(id) {\n\t    var db = getItem() || {};\n\t    var list = db.list || [];\n\t    var newList = [];\n\t\n\t    list.forEach(function (item, index) {\n\t        if (item.id != id) {\n\t            newList.push(item);\n\t        }\n\t    });\n\t\n\t    db.list = newList;\n\t    setItem(db);\n\t}\n\t\n\texports.default = { insert: insert, removeItemById: removeItemById, getList: getList };\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// background.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eb8492172997b2987a23","import DB from \"./common/db\";\n\nchrome.contextMenus.create({\n    \"title\": \"Save into Noteplus\",\n    contexts : [\"frame\", \"selection\", \"link\", \"editable\"] ,\n    onclick : function (e){\n        let text = e.selectionText;\n        let url = e.pageUrl;\n\n        // chrome.runtime.sendMessage({selectionText, pageUrl},function(response){});\n\n        DB.insert({\n            text : text,\n            url : url,\n            id : new Date().getTime() + parseInt(Math.random() * 10000),\n            createTime : new Date().getTime()\n        });\n    }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/background.js","const DB_NAME = \"NOTEPLUS\";\n\nfunction getItem(){\n    let str = localStorage.getItem(DB_NAME);\n\n    try{\n        return JSON.parse(str);\n    }catch(e){\n        return {};\n    }\n}\n\nfunction setItem(obj){\n    let str = \"\";\n\n    if(typeof obj == \"object\"){\n        str = JSON.stringify(obj);\n    }else{\n        str = obj;\n    }\n\n    localStorage.setItem(DB_NAME, str);\n}\n\nfunction getList(){\n    let db = getItem() || {};\n    let list = db.list || [];\n\n    return list;\n}\n\nfunction insert(obj){\n    let db = getItem() || {};\n    let list = db.list || [];\n\n    list.unshift(obj);\n    db.list = list;\n    setItem(db);\n}\n\nfunction removeItemById(id){\n    let db = getItem() || {};\n    let list = db.list || [];\n    let newList = [];\n\n    list.forEach(function (item, index){\n        if(item.id != id){\n            newList.push(item);\n        }\n    });\n\n    db.list = newList;\n    setItem(db);\n}\n\nexport default {insert, removeItemById, getList};\n\n\n// WEBPACK FOOTER //\n// ./src/common/db.js"],"sourceRoot":""}