{"version":3,"sources":["webpack:///webpack/bootstrap abaf6d1af93d9433872c","webpack:///./src/background.js","webpack:///./src/common/db.js"],"names":["chrome","contextMenus","create","contexts","onclick","e","text","selectionText","url","pageUrl","insert","id","Date","getTime","parseInt","Math","random","createTime","DB_NAME","getItem","str","localStorage","JSON","parse","setItem","obj","stringify","getList","db","list","unshift","removeItemById","newList","forEach","item","index","push"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACtCA;;;;;;AAEAA,QAAOC,YAAP,CAAoBC,MAApB,CAA2B;AACvB,cAAS,oBADc;AAEvBC,eAAW,CAAC,OAAD,EAAU,WAAV,EAAuB,MAAvB,EAA+B,UAA/B,CAFY;AAGvBC,cAAU,iBAAUC,CAAV,EAAY;AAClB,aAAIC,OAAOD,EAAEE,aAAb;AACA,aAAIC,MAAMH,EAAEI,OAAZ;;AAEA;;AAEA,sBAAGC,MAAH,CAAU;AACNJ,mBAAOA,IADD;AAENE,kBAAMA,GAFA;AAGNG,iBAAK,IAAIC,IAAJ,GAAWC,OAAX,KAAuBC,SAASC,KAAKC,MAAL,KAAgB,KAAzB,CAHtB;AAINC,yBAAa,IAAIL,IAAJ,GAAWC,OAAX;AAJP,UAAV;AAMH;AAfsB,EAA3B,E;;;;;;;;;;;;;;;;;;ACFA,KAAMK,UAAU,UAAhB;;AAEA,UAASC,OAAT,GAAkB;AACd,SAAIC,MAAMC,aAAaF,OAAb,CAAqBD,OAArB,CAAV;;AAEA,SAAG;AACC,gBAAOI,KAAKC,KAAL,CAAWH,GAAX,CAAP;AACH,MAFD,CAEC,OAAMf,CAAN,EAAQ;AACL,gBAAO,EAAP;AACH;AACJ;;AAED,UAASmB,OAAT,CAAiBC,GAAjB,EAAqB;AACjB,SAAIL,MAAM,EAAV;;AAEA,SAAG,QAAOK,GAAP,yCAAOA,GAAP,MAAc,QAAjB,EAA0B;AACtBL,eAAME,KAAKI,SAAL,CAAeD,GAAf,CAAN;AACH,MAFD,MAEK;AACDL,eAAMK,GAAN;AACH;;AAEDJ,kBAAaG,OAAb,CAAqBN,OAArB,EAA8BE,GAA9B;AACH;;AAED,UAASO,OAAT,GAAkB;AACd,SAAIC,KAAKT,aAAa,EAAtB;AACA,SAAIU,OAAOD,GAAGC,IAAH,IAAW,EAAtB;;AAEA,YAAOA,IAAP;AACH;;AAED,UAASnB,MAAT,CAAgBe,GAAhB,EAAoB;AAChB,SAAIG,KAAKT,aAAa,EAAtB;AACA,SAAIU,OAAOD,GAAGC,IAAH,IAAW,EAAtB;;AAEAA,UAAKC,OAAL,CAAaL,GAAb;AACAG,QAAGC,IAAH,GAAUA,IAAV;AACAL,aAAQI,EAAR;AACH;;AAED,UAASG,cAAT,CAAwBpB,EAAxB,EAA2B;AACvB,SAAIiB,KAAKT,aAAa,EAAtB;AACA,SAAIU,OAAOD,GAAGC,IAAH,IAAW,EAAtB;AACA,SAAIG,UAAU,EAAd;;AAEAH,UAAKI,OAAL,CAAa,UAAUC,IAAV,EAAgBC,KAAhB,EAAsB;AAC/B,aAAGD,KAAKvB,EAAL,IAAWA,EAAd,EAAiB;AACbqB,qBAAQI,IAAR,CAAaF,IAAb;AACH;AACJ,MAJD;;AAMAN,QAAGC,IAAH,GAAUG,OAAV;AACAR,aAAQI,EAAR;AACH;;mBAEc,EAAClB,cAAD,EAASqB,8BAAT,EAAyBJ,gBAAzB,E","file":"background.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap abaf6d1af93d9433872c","import DB from \"./common/db\";\n\nchrome.contextMenus.create({\n    \"title\": \"Save into Noteplus\",\n    contexts : [\"frame\", \"selection\", \"link\", \"editable\"] ,\n    onclick : function (e){\n        let text = e.selectionText;\n        let url = e.pageUrl;\n\n        // chrome.runtime.sendMessage({selectionText, pageUrl},function(response){});\n\n        DB.insert({\n            text : text,\n            url : url,\n            id : new Date().getTime() + parseInt(Math.random() * 10000),\n            createTime : new Date().getTime()\n        });\n    }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/background.js","const DB_NAME = \"NOTEPLUS\";\n\nfunction getItem(){\n    let str = localStorage.getItem(DB_NAME);\n\n    try{\n        return JSON.parse(str);\n    }catch(e){\n        return {};\n    }\n}\n\nfunction setItem(obj){\n    let str = \"\";\n\n    if(typeof obj == \"object\"){\n        str = JSON.stringify(obj);\n    }else{\n        str = obj;\n    }\n\n    localStorage.setItem(DB_NAME, str);\n}\n\nfunction getList(){\n    let db = getItem() || {};\n    let list = db.list || [];\n\n    return list;\n}\n\nfunction insert(obj){\n    let db = getItem() || {};\n    let list = db.list || [];\n\n    list.unshift(obj);\n    db.list = list;\n    setItem(db);\n}\n\nfunction removeItemById(id){\n    let db = getItem() || {};\n    let list = db.list || [];\n    let newList = [];\n\n    list.forEach(function (item, index){\n        if(item.id != id){\n            newList.push(item);\n        }\n    });\n\n    db.list = newList;\n    setItem(db);\n}\n\nexport default {insert, removeItemById, getList};\n\n\n// WEBPACK FOOTER //\n// ./src/common/db.js"],"sourceRoot":""}